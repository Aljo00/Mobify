<%- include('../../views/layout/header.ejs') %>

<!-- Bootstrap CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<!-- Font Awesome -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
/>

<link rel="stylesheet" href="/styles/user/wallet.css" />

<div class="container-fluid mt-5">
  <!-- Breadcrumbs -->
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/">Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">Wallet</li>
    </ol>
  </nav>
  <div class="row">
    <div class="col-md-3">
      <div class="list-group">
        <a href="/account" class="list-group-item list-group-item-action">
          <i class="fas fa-user icon-img"></i> Account
        </a>
        <a href="/addresses" class="list-group-item list-group-item-action">
          <i class="fas fa-map-marker-alt icon-img"></i> Address
        </a>
        <a href="/orders" class="list-group-item list-group-item-action">
          <i class="fas fa-box icon-img"></i> Orders
        </a>
        <a href="#" class="list-group-item list-group-item-action">
          <i class="fas fa-heart icon-img"></i> Wishlist
        </a>
        <a href="/wallet" class="list-group-item list-group-item-action active">
          <i class="fas fa-wallet icon-img"></i> Wallet
        </a>
        <a
          href="/forgot-password"
          class="list-group-item list-group-item-action"
        >
          <i class="fas fa-key icon-img"></i> Reset Password
        </a>
        <a href="/logout" class="list-group-item list-group-item-action">
          <i class="fas fa-sign-out-alt icon-img"></i> Logout
        </a>
      </div>
    </div>
    <div class="col-md-9">
      <div class="wallet-details">
        <div class="balance-container text-center mb-4">
          <h3>Wallet Balance</h3>
          <div class="balance-amount">
            ₹<%= locals.wallet.balance.toLocaleString('en-IN', {
            minimumFractionDigits: 2 }) %>
          </div>
          <button
            class="btn btn-primary mt-3"
            onclick="location.href='/add-money'"
          >
            Add Money
          </button>
        </div>
        <h4 class="mt-5">Transaction History</h4>
        <% if (locals.wallet.transactions.length > 0) { %>
        <div class="transaction-history mt-3">
          <% locals.wallet.transactions.forEach(transaction => { %>
          <div class="transaction-item">
            <div class="transaction-date">
              <%= transaction.date.toDateString() %>
            </div>
            <div class="transaction-description">
              <%= transaction.description %>
            </div>
            <div class="transaction-type <%= transaction.type %>">
              <%= transaction.type %>
            </div>
            <div class="transaction-amount">
              ₹<%= transaction.amount.toLocaleString('en-IN', {
              minimumFractionDigits: 2 }) %>
            </div>
          </div>
          <% }) %>
        </div>
        <% } else { %>
        <div class="transaction-item no-transactions">
          <p>No transactions found.</p>
        </div>
        <% } %>
      </div>
    </div>
  </div>
</div>

<%- include('../../views/layout/footer.ejs') %>
